function extendProductConfigformatPrice(){"undefined"!=typeof Product&&(extendProductConfigformatPriceTrigged||(extendProductConfigformatPriceTrigged=!0,Product.Config.prototype=Object.extend(Product.Config.prototype,{formatPrice:function(a,b){var c="";a=parseFloat(a),b&&(a<0?(c+="-",a=-a):c+="+");var d=(Math.round(100*a)/100).toString();if(this.prices&&this.prices[d])c+=this.prices[d];else{if(precision=2,"undefined"!=typeof etCurrencyManagerJsConfig&&"undefined"!=typeof etCurrencyManagerJsConfig.precision&&(precision=etCurrencyManagerJsConfig.precision),"undefined"!=typeof optionsPrice&&"undefined"!=typeof optionsPrice.priceFormat&&(precision=optionsPrice.priceFormat.requiredPrecision),"undefined"!=typeof etCurrencyManagerJsConfig&&"undefined"!=typeof etCurrencyManagerJsConfig.cutzerodecimal&&0!=etCurrencyManagerJsConfig.cutzerodecimal&&a-Math.round(a)==0&&(precision=0),"undefined"!=typeof etCurrencyManagerJsConfig&&"undefined"!=typeof etCurrencyManagerJsConfig.min_decimal_count&&etCurrencyManagerJsConfig.min_decimal_count<precision)for(var e=etCurrencyManagerJsConfig.min_decimal_count;e<precision;e++)if(Math.abs(Math.round(a*Math.pow(10,e))-a*Math.pow(10,e))<1e-7){precision=e;break}precision>0?c+=this.priceTemplate.evaluate({price:a.toFixed(precision)}):(a=a.toFixed(0),"undefined"!=typeof etCurrencyManagerJsConfig&&"undefined"!=typeof etCurrencyManagerJsConfig.cutzerodecimal&&0!=etCurrencyManagerJsConfig.cutzerodecimal&&"undefined"!=typeof etCurrencyManagerJsConfig.cutzerodecimal_suffix&&etCurrencyManagerJsConfig.cutzerodecimal_suffix.length>0&&(a=a+""+etCurrencyManagerJsConfig.cutzerodecimal_suffix),c+=this.priceTemplate.evaluate({price:a}))}return c}}),etCurrencyManagerJsConfig.cutzerodecimal>0&&(Product.OptionsPrice.prototype=Object.extend(Product.OptionsPrice.prototype,{formatPrice:function(a){var b=Object.clone(this.priceFormat);a-parseInt(a)==0&&(b.precision=0,b.requiredPrecision=0),b.precision<0&&(b.precision=0),b.requiredPrecision<0&&(b.requiredPrecision=0);var c=formatCurrency(a,b);return c}}))))}function formatCurrencyET(a,b,c){var d=isNaN(b.precision=b.precision)?2:b.precision,e=isNaN(b.requiredPrecision=b.requiredPrecision)?2:b.requiredPrecision;d=e;var f=isNaN(b.integerRequired=Math.abs(b.integerRequired))?1:b.integerRequired,g=void 0==b.decimalSymbol?",":b.decimalSymbol,h=void 0==b.groupSymbol?".":b.groupSymbol,i=void 0==b.groupLength?3:b.groupLength,k="";void 0==c||1==c?k=a<0?"-":c?"+":"":0==c&&(k="");for(var l=parseInt(a=Math.abs(+a||0).toFixed(d))+"",m=l.length<f?f-l.length:0;m;)l="0"+l,m--;j=(j=l.length)>i?j%i:0,re=new RegExp("(\\d{"+i+"})(?=\\d)","g"),d<0&&(d=0);var n=(j?l.substr(0,j)+h:"")+l.substr(j).replace(re,"$1"+h)+(d?g+Math.abs(a-l).toFixed(d).replace(/-/,0).slice(2):""),o="";return o=b.pattern.indexOf("{sign}")==-1?k+b.pattern:b.pattern.replace("{sign}",k),o.replace("%s",n).replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var extendProductConfigformatPriceTrigged=!1;extendProductConfigformatPrice();try{originalFormatCurrency=window.formatCurrency,window.formatCurrency=function(a,b,c){var d=Object.clone(b);if(a=Math.round(a*Math.pow(10,d.precision))/Math.pow(10,d.precision),a-Math.round(a)!=0&&Math.abs(a-Math.round(a))<1e-8&&(a=0),"undefined"!=typeof etCurrencyManagerJsConfig&&0==a&&"undefined"!=typeof etCurrencyManagerJsConfig.zerotext)return etCurrencyManagerJsConfig.zerotext;if(a-Math.round(a)==0&&"undefined"!=typeof etCurrencyManagerJsConfig&&"undefined"!=typeof etCurrencyManagerJsConfig.cutzerodecimal&&0!=etCurrencyManagerJsConfig.cutzerodecimal){d.precision=0,d.requiredPrecision=0;var e=originalFormatCurrency(a,d,c);d.pattern="%s";var f=originalFormatCurrency(a,d,c);if(d.pattern=b.pattern,"undefined"!=typeof etCurrencyManagerJsConfig.cutzerodecimal_suffix&&etCurrencyManagerJsConfig.cutzerodecimal_suffix.length>0)return e.replace(f,f+""+etCurrencyManagerJsConfig.cutzerodecimal_suffix)}if("undefined"!=typeof etCurrencyManagerJsConfig&&"undefined"!=typeof etCurrencyManagerJsConfig.min_decimal_count&&etCurrencyManagerJsConfig.min_decimal_count<d.precision)for(var g=etCurrencyManagerJsConfig.min_decimal_count;g<d.precision;g++)if(Math.abs(Math.round(a*Math.pow(10,g))-a*Math.pow(10,g))<1e-7){d.precision=g,d.requiredPrecision=g;break}return formatCurrencyET(a,d,c)}}catch(a){}