function setDailydealTimeleft(a,b,c,d){void 0==timerCounters[d]?timerCounters[d]=new DailydealTimeCounter(a,b,d):timerCounters[d].initialize(a,b,d),timerCounters[d].setTimeleft(c)}function updateProductName(){$("product_name").value=$("newproduct_name").value,$("dailydeal_tabs_form_section").addClassName("active"),$("dailydeal_tabs_form_listproduct").removeClassName("active"),$("dailydeal_tabs_form_section_content").style.display="",$("dailydeal_tabs_form_listproduct_content").style.display="none"}function showSelectProductTab(){$("dailydeal_tabs_form_section").removeClassName("active"),$("dailydeal_tabs_form_listproduct").addClassName("active"),Element.show("dailydeal_tabs_form_listproduct_content"),Element.hide("dailydeal_tabs_form_section_content")}var Dailydeal=Class.create();Dailydeal.prototype={initialize:function(a){this.changeProductUrl=a},changeProduct:function(a){var b=this.changeProductUrl;b+=b.indexOf("?")==-1?"?product_id="+a:"&product_id="+a,new Ajax.Updater("product_name_contain",b,{method:"get",onComplete:function(){updateProductName()},onFailure:""})},checkBidderName:function(){var a=$("bidder_name").value;$("bidder_name_form_button").hide();var b=this.changeProductUrl;b+=b.indexOf("?")==-1?"?bidder_name="+a:"&bidder_name="+a,new Ajax.Updater("bidder-notice",b,{method:"get",onComplete:function(){validBidderName()},onFailure:""}),$("biddername-please-wait").style.display="block",$("bidder-notice").style.display="none",$("bidder_name").removeClassName("validation-passed")}};var DailydealTimeCounter=Class.create();DailydealTimeCounter.prototype={initialize:function(a,b,c){this.now_time=1e3*parseInt(a),this.end_time=1e3*parseInt(b),this.dailydeal_id=c,this.end=new Date(this.end_time);var d=this.end;this.second=d.getSeconds(),this.minute=d.getMinutes(),this.hour=d.getHours(),this.day=d.getDate(),this.month=d.getMonth();var e;e=d.getYear()<1900?d.getYear()+1900:d.getYear(),this.year=e},setTimeleft:function(a){var c,b=new Date(this.now_time);c=b.getYear()<1900?b.getYear()+1900:b.getYear();var e,d="0",f=this.second-b.getSeconds(),g=this.minute-b.getMinutes(),h=this.hour-b.getHours(),i=this.day-b.getDate(),j=this.month-b.getMonth();c=this.year-c;var k=32-new Date(b.getYear(),b.getMonth(),32).getDate();f<0&&(f=(f+60)%60,g--),g<0&&(g=(g+60)%60,h--),h<0&&(h=(h+24)%24,i--),i<0&&(i=(i+k)%k,j--),j<0&&(j=(j+12)%12,c--);var l=Translator.translate("sec"),m=Translator.translate("min"),n=Translator.translate("hour"),o=" "+Translator.translate("days")+" ",p=" "+Translator.translate("months")+" ",q=" "+Translator.translate("years")+" ";return 1==c&&(q=" "+Translator.translate("year")+" "),1==j&&(p=" "+Translator.translate("month")+" "),1==i&&(o=" "+Translator.translate("day")+" "),1==h&&(n=Translator.translate("hour")),1==g&&(m=Translator.translate("min")),1==f&&(l=Translator.translate("sec")),i<10&&(i="0"+i),h<10&&(h="0"+h),g<10&&(g="0"+g),f<10&&(f="0"+f),q=c<=0?"":'<li class="time-year"><div><span class="timeleft-text">'+c+'</span><span class="text-time">'+q+"</span></div></li>",p=j<=0?"":'<li class="time-month"><div><span class="timeleft-text">'+j+'</span><span class="text-time">'+p+"</span></div></li>",o=i<=0&&j>0?"":'<li class="time-day"><div><span class="timeleft-text">'+i+'</span><span class="text-time">'+o+"</span></div></li>",n=h<=0&&i>0?"":'<li class="time-hr"><div><span class="timeleft-text">'+h+'</span><span class="text-time">'+n+"</span></div></li>",m=g<0?"":'<li class="time-min"><div><span class="timeleft-text">'+g+'</span><span class="text-time">'+m+"</span></div></li>",l=f<0?"":'<li class="time-sec"><div><span class="timeleft-text">'+f+'</span><span class="text-time">'+l+"</span></div></li>",b>=this.end?(jQuery("."+a).html(d),clearTimeout(e)):jQuery("."+a).html(q+p+o+n+m+l),this.now_time==this.end_time?void location.reload(!0):(this.now_time=this.now_time+1e3,void(e=setTimeout("setDailydealTimeleft("+this.now_time/1e3+","+this.end_time/1e3+",'"+a+"','"+this.dailydeal_id+"');",1e3)))}};var timerCounters={};