function setAjaxData(a,b,c){"ERROR"==a.status?alert(a.message.replace("<br/>","")):(jQuery(".header .mini-cart")&&jQuery(".header .mini-cart").replaceWith(a.toplink),jQuery(".fixed-header .mini-cart")&&jQuery(".fixed-header .mini-cart").replaceWith(a.toplink),jQuery(".sticky-header .mini-cart")&&jQuery(".sticky-header .mini-cart").replaceWith(a.toplink),jQuery(".col-right .block.block-cart")&&jQuery(".col-right .block.block-cart").replaceWith(a.cart_sidebar),jQuery("#after-loading-success-message #success-message-container .msg-box").html(a.message),jQuery.fancybox.close(),"item"!=c&&(jQuery("#after-loading-success-message").fadeIn(200),ajaxcart_sec=jQuery("#after-loading-success-message .timer").text(),ajaxcart_timer=setInterval(function(){jQuery("#after-loading-success-message .timer").html(jQuery("#after-loading-success-message .timer").text()-1)},1e3),setTimeout(function(){jQuery("#after-loading-success-message").fadeOut(200),clearTimeout(ajaxcart_timer),setTimeout(function(){jQuery("#after-loading-success-message .timer").html(ajaxcart_sec)},1e3)},1e3*ajaxcart_sec)))}function setLocationAjax(a,b,c){a.indexOf("?")&&(a=a.split("?")[0]),a+="isAjax/1",a=a.replace("checkout/cart","ajaxcart/index"),window.location.href.match("https://")&&!a.match("https://")&&(a=a.replace("http://","https://")),window.location.href.match("http://")&&!a.match("http://")&&(a=a.replace("https://","http://")),jQuery("#loading-mask").show();try{jQuery.ajax({url:a,dataType:"json",success:function(a){jQuery("#loading-mask").hide(),setAjaxData(a,!1,c)}})}catch(a){}}function showOptions(a){initFancybox(),jQuery("#fancybox"+a).trigger("click")}function initFancybox(){jQuery.noConflict(),jQuery(document).ready(function(){jQuery(".fancybox").fancybox({hideOnContentClick:!0,width:382,autoDimensions:!0,type:"iframe",showTitle:!1,scrolling:"no",onComplete:function(){jQuery("#fancybox-frame").load(function(){jQuery("#fancybox-content").height(jQuery(this).contents().find("body").height()+100),jQuery.fancybox.resize()})}})})}function ajaxCompare(a,b){a=a.replace("catalog/product_compare/add","ajaxcart/whishlist/compare"),a.indexOf("?")&&(a=a.split("?")[0]),a+="isAjax/1",window.location.href.match("https://")&&!a.match("https://")&&(a=a.replace("http://","https://")),window.location.href.match("http://")&&!a.match("http://")&&(a=a.replace("https://","http://")),jQuery("#loading-mask").show(),jQuery.ajax({url:a,dataType:"json",success:function(a){jQuery("#loading-mask").hide(),"ERROR"==a.status?alert(a.message.replace("<br/>","")):(alert(a.message.replace("<br/>","")),jQuery(".block-compare").length?jQuery(".block-compare").replaceWith(a.sidebar):jQuery(".col-right").length&&jQuery(".col-right").prepend(a.sidebar))}})}function ajaxWishlist(a,b){a=a.replace("wishlist/index","ajaxcart/whishlist"),a.indexOf("?")&&(a=a.split("?")[0]),a+="isAjax/1",window.location.href.match("https://")&&!a.match("https://")&&(a=a.replace("http://","https://")),window.location.href.match("http://")&&!a.match("http://")&&(a=a.replace("https://","http://")),jQuery("#loading-mask").show(),jQuery.ajax({url:a,dataType:"json",success:function(a){jQuery("#loading-mask").hide(),"ERROR"==a.status?alert(a.message.replace("<br/>","")):(alert(a.message.replace("<br/>","")),jQuery(".header > .quick-access > .links")&&jQuery(".header > .quick-access > .links").replaceWith(a.toplink))}})}function deleteAction(a,b,c){var d=confirm(c);return 1==d&&void setLocationAjax(a,b,"item")}var ajaxcart_timer,ajaxcart_sec;jQuery.noConflict();